---
number: 2
title: Linear Regression and Research Design
day: 11 februar
type: lab
layout: remark
---

# {{ page.title }} #
## {{ page.day }} ##


---
name: outline
## Outline

 1. A little about how Stata works
 
 2. A little bit about graphics
 
 3. Work through S&#248;nderskov Ch.4-5


---
## How Stata works

 1. Load data into memory

 2. You request Stata to do something

 3. If a valid, Stata executes your request and:
  
   a. Stores some of the results temporarily
   b. Prints some of the results to the console

 4. New requests overwrite the stored results

---
## summarize | sum

```
summarize stores the following in r():

Scalars   
  r(N)           number of observations
  r(mean)        mean
  r(skewness)    skewness (detail only)
  r(min)         minimum
  r(max)         maximum
  r(sum_w)       sum of the weights
  r(p1)          1st percentile (detail only)
  r(p5)          5th percentile (detail only)
  r(p10)         10th percentile (detail only)
  r(p25)         25th percentile (detail only)
  r(p50)         50th percentile (detail only)
  r(p75)         75th percentile (detail only)
  r(p90)         90th percentile (detail only)
  r(p95)         95th percentile (detail only)
  r(p99)         99th percentile (detail only)
  r(Var)         variance
  r(kurtosis)    kurtosis (detail only)
  r(sum)         sum of variable
  r(sd)          standard deviation
```

---
## tabulate | tab

```
tabulate and tab1 store the following in r():

Scalars   
  r(N)           number of observations
  r(r)           number of rows
```

---
## Implications for using Stata

  - Use do-files to keep track of your code
  
  - Work one operation at a time
    - You can't go back without rerunning your request
    
  - Save output using logs
    
```
log using ...
log off
log on
log close
```


---
## Graphics

 - Code for graphics is complicated

 - Use the menus and `help` to learn the code
   - [Using Code](http://www.stata.com/support/faqs/graphics/gph/stata-graphs/)
   - [Menus](http://www.ssc.wisc.edu/sscc/pubs/4-24.htm)

 - Use resources and examples:
   - Cameron and Trivedi 2.6 (pp.58-70)
   - Various places in S&#248;nderskov
   - [UCLA IDRE](http://www.ats.ucla.edu/stat/stata/library/GraphExamples/)
   - [A nice graph gallery](http://www.survey-design.com.au/Stata%20Graphs.html)
   

---
.left-column[
### histogram
]
.right-column[

```
* histogram only
hist pubadmin
```

]

---
.left-column[
### histogram
### density
]

.right-column[
```
* kernel density only
kdensity pubadmin
* histogram + kernel density
hist pubadmin, kdensity
```
]

---
.left-column[
### histogram
### density
### boxplot
]
.right-column[
```
* boxplot
graph box growth
* boxplot by group
graph box growth, over(vlegit)

* horizontal bars
graph hbox growth
graph hbox growth, over(vlegit)
```
]

---
.left-column[
### histogram
### density
### boxplot
### barplot
]
.right-column[
```
* means of variables
graph bar paris london brussels lisbon
* median of variables
graph bar (median) elf language

* mean of one variable by group
graph bar elf, over(vlegit)
```
]

---
.left-column[
### histogram
### density
### boxplot
### barplot
### dotchart
]
.right-column[
```
graph dot corrupt

gen colonial = paris
replace colonial = 2 if london==1
replace colonial = 3 if brussels==1
replace colonial = 4 if lisbon==1
label define colonialnames 0 "None"
  1 "France"
  2 "Britain"
  3 "Belgium"
  4 "Portugal"
label values colonial colonialnames
graph dot corrup, over(colonial)
```
]

---
.left-column[
### histogram
### density
### boxplot
### barplot
### dotchart
### scatterplot
]
.right-column[

```
* scatterplot
graph twoway scatter growth lcon
* shorter command
scatter growth lcon

* labeled points
scatter goodgov hlegit, mlabel(wbcode)

* weird old plotting command
plot growth lcon
```
]


---
class: middle, center
## Work through S&#248;nderskov Ch.4-5
